!function (e) { e.fn.droptabs = function (t) { var n = e.extend({ dropdownSelector: "li.dropdown", dropdownMenuSelector: "ul.dropdown-menu", dropdownTabsSelector: "li", visibleTabsSelector: ">li:not(.dropdown)", developmentId: "dt-devInfo", autoArrangeTabs: !0, development: !1 }, t); return this.each(function () { function t() { var t = c().first().clone().appendTo(s).css("position", "fixed"), n = e(t).outerWidth(); return e(t).remove(), n } function o(t) { var n = e(t).clone().appendTo(s).css("position", "fixed"), o = e(n).outerWidth(); return e(n).remove(), o } function r(t) { e("a", e(t)).on("show.bs.tab", function (t) { e(t.relatedTarget).parent().removeClass("active") }), e("a", e(t)).on("shown.bs.tab", function (t) { e(a).hasClass("active") ? e(">a", a).html(e(">li.active>a", d).text() + '<b class="caret"></b>') : e(">a", a).html('Mas elementos <b class="caret"></b>') }) } function i(t, n) { var o = t.replace(/\s+/g, "-").toLowerCase(); return e("#" + o).length > 0 ? e("#" + o).text(t + ": " + n) : e("#dt-devInfo").append('<div id="' + o + '">' + t + ": " + n + "</div>"), !0 } var s = e(this), a = e(n.dropdownSelector, this), d = e(n.dropdownMenuSelector, a), c = function () { return e(n.dropdownTabsSelector, d) }, l = function () { return e(n.visibleTabsSelector, s) }; if (n.development) { e("body").append('<div class="alert alert-success" id="' + n.developmentId + '"></div>'); var u = e("#" + n.developmentId); e(u).css("position", "fixed").css("right", "20px").css("bottom", "20px") } var h = function () { var t = 0; return e(l()).each(function (n) { t += parseInt(e(this).outerWidth(), 10) }), t += parseInt(e(a).outerWidth(), 10) }, v = function () { return s.outerWidth() - h() }, p = function () { if (n.development && (i("Container width", s.outerWidth()), i("Visible tabs width", h()), i("Available space", v()), i("First hidden", t())), v() < 0) { var u = v(); e(l().get().reverse()).each(function (t) { if (!e(this).hasClass("always-visible")) { var n = e(this).clone().prependTo(d); r(n), u += n.outerWidth(), e(this).remove() } return u >= 0 ? !1 : void 0 }) } if (v() > t()) { var u = v(); e(c()).each(function (t) { if (!(o(this) < u) || e(this).hasClass("always-dropdown")) return !1; var n = e(this).clone().appendTo(s); r(n), u -= n.outerWidth(), e(this).remove() }) } c().length <= 0 ? a.hide() : a.show() }; if (n.autoArrangeTabs) { var f = []; e(l().get().reverse()).each(function (t) { e(this).hasClass("always-visible") && (f.push(e(this)), e(this).remove()) }); for (var b = 0; b < f.length; b++) s.prepend(f[b]) } return e(document).ready(function () { p(), c().each(function () { r(e(this)) }), l().each(function () { r(e(this)) }) }), e(window).resize(function () { p() }), this }) } }(jQuery);